docker run --rm -v $(pwd)/run_simulation.py:/app/run_simulation.py:ro -v $(pwd)/simulations:/app/simulations:ro -v $(pwd)/sim_data:/app/sim_data -v $(pwd)/core/equations/:/app/core/equations/:ro -v $(pwd)/core/utils/:/app/core/utils/:ro pabloabur/app --save_path sim_data/stdp_test/ STDP --protocol 1 --event_condition "abs(Ca) > 0.05" && Rscript --vanilla plots/simple_stdp.R -s sim_data/stdp_test
#docker run --entrypoint /bin/bash -it --rm -v $(pwd)/run_simulation.py:/app/run_simulation.py:ro -v $(pwd)/simulations:/app/simulations:ro -v $(pwd)/sim_data:/app/sim_data -v $(pwd)/core/utils/:/app/core/utils/:ro -v $(pwd)/core/equations/:/app/core/equations/:ro pabloabur/app -c "echo 'b simulations/stdp.py:360' > ~/.pdbrc && micromamba run -n base -r /opt/micromamba python -m pdb run_simulation.py STDP --protocol 1 --event_condition 'abs(Ca) > 0.1'"
#docker run --rm -v $(pwd)/run_simulation.py:/app/run_simulation.py:ro -v $(pwd)/simulations:/app/simulations:ro -v $(pwd)/sim_data:/app/sim_data -v $(pwd)/core/equations/:/app/core/equations/:ro pabloabur/app --save_path sim_data/stdp_test/ STDP --protocol 2 --event_condition "Ca > 0.1 or Ca < 0.1"
